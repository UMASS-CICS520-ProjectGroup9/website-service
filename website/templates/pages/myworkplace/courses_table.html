{% load static %}
<!-- table1 -->

<article class="post">
  {% if authen.role == 'ADMIN' %}
    <section>
      <h3>My Courses Lists</h3>
      {% if courses %}
        <p>
          Showing {{ courses|length }} course{% if courses|length != 1 %}s{% endif %}.
        </p>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Title</th>
                <th>Course ID</th>
                <th>Schedule</th>
                <th>Room</th>
                <th>Requirements</th>
                <th>Description</th>
                <th>Instructor</th>
                <th>Instruction Mode</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              {% for course in courses %}
                <tr>
                  <td>{{ course.title }}</td>
                  <td>{{ course.courseSubject }} {{ course.courseID }}</td>
                  <td>{{ course.schedule }}</td>
                  <td>{{ course.room }}</td>
                  <td>{{ course.requirements }}</td>
                  <td>{{ course.description|truncatewords:20 }}</td>
                  <td>{{ course.instructor }}</td>
                  <td>{{ course.instruction_mode }}</td>
                  <td>
                    <a href="">edit</a>
                    <a href="">remove</a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <p>No courses found.</p>
      {% endif %}
    </section>
    <hr style="border-top: 1px dashed rgba(160,160,160,0.3); margin: 2em 0;" />
    <section>
      <h3>My Courses Discussion Lists</h3>
      {% if coursesDiscussions %}
        <p>
          Showing {{ coursesDiscussions|length }} courses discussion{% if coursesDiscussions|length != 1 %}s{% endif %}.
        </p>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Course</th>
                <th>Title</th>
                <th>Content</th>
                <th>Author</th>
                <th>Created At</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              {% for coursesDiscussion in coursesDiscussions %}
                <tr>
                  <td>{{ coursesDiscussion.course_subject }} {{ coursesDiscussion.course_id }}</td>
                  <td>{{ coursesDiscussion.title }}</td>
                  <td>{{ coursesDiscussion.body|truncatewords:20 }}</td>
                  <td>{{ coursesDiscussion.author }}</td>
                  <td>{{ coursesDiscussion.created_at|date:'Y-m-d H:i' }}</td>
                  <td>
                    <a href="">edit</a>
                    <a href="">delete</a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <p>No courses discussions found.</p>
      {% endif %}
    </section>
     <hr style="border-top: 1px dashed rgba(160,160,160,0.3); margin: 2em 0;" />
  {% endif %}

  <section>
    <h3>My Courses Discussions Comments Lists</h3>
    {% if coursesDiscussionComments %}
      <p>
        Showing {{ coursesDiscussionComments|length }} course{% if coursesDiscussionComments|length != 1 %}s{% endif %}discussion comment.
      </p>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Discussion</th>
              <th>Comment</th>
              <th>Author</th>
              <th>Created At</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% for comment in coursesDiscussionComments %}
              <tr>
                <td>{{ comment.discussion_title }}</td>
                <td>{{ comment.body|truncatewords:20 }}</td>
                <td>{{ comment.author }}</td>
                <td>{{ comment.created_at|date:'Y-m-d H:i' }}</td>
                <td>
                  <a href="">edit</a>
                  <a href="">delete</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p>No courses discussions comments found.</p>
    {% endif %}
  </section>
</article>
